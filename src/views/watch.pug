extends base

block content
  div(data-id=video._id)#videoContainer.card.mb-3
    video(controls=true height='auto').card-img-top
      source(src="/" + video.fileUrl, type="video/mp4")
    div.card-body
      h5.card-title=video.title
      p.card-text
        small.text-muted 조회수 #{video.meta.views}회 #{createAt}
      if String(video.owner._id) === String(loggedInUser._id)
        .row.mb-2
          a(href=`${video.id}/edit`).text-end 수정 &rarr;
          a(href=`${video.id}/delete`).text-end 삭제 &rarr;
      if loggedIn
        .row
          form#commentForm
            textarea.form-control.mb-2
            button.btn.btn-sm.btn-primary.float-end 댓글 등록
      hr
      #video__comments.row.ps-3
        each comment in video.comments.reverse()
          div(data-id=comment.id).p-1.d-flex.justify-content-between
            div
              i.fas.fa-comment
              span.ps-1=comment.text
            a(href="#") ❌
block scripts
  if loggedIn
    script(src="/static/js/commentSection.js")
